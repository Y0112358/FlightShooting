# Task: 開發一個基於 React 的 2D 垂直捲軸飛行射擊遊戲 (Shmup)

## 1. 技術棧要求
- 使用 React (Vite 框架風格)
- 使用 HTML5 Canvas API 進行遊戲渲染 (確保效能)
- 使用 Tailwind CSS 進行 UI 佈局

## 2. 遊戲核心邏輯 (Game Engine)
- **遊戲循環：** 使用 requestAnimationFrame 驅動。
- **捲軸系統：** 背景圖片(或星空粒子)持續向下移動，營造前進感。
- **碰撞偵測：** - 對空：玩家子彈 vs 敵機 (矩形/圓形碰撞)。
  - 對地：玩家炸彈落點 vs 地面砲台 (AOE 範圍判定)。
  - 玩家 vs 敵機/子彈 (縮小判定點以增加操作感)。

## 3. 玩家系統與雙軌武器 (Player & Dual-Weapon System)
- **移動：** 支援鍵盤 WASD/方向鍵，限制在畫面邊界內。
- **對空武器 (Air-to-Air)：** - 初始：Lv.1 飛彈。
  - 升級：最高 5 級。
  - 分支：[紅盒] 飛彈路徑 (擴散廣度) / [藍盒] 雷射路徑 (穿透與持續)。
- **對地武器 (Air-to-Ground)：** - 核心：飛機前方固定距離顯示「動態準星」。
  - 升級：最高 3 級 [綠盒]。
  - 效果：Lv.1 單發 / Lv.2 範圍爆炸 / Lv.3 自動鎖定準星內目標。
- **大招系統 (Ultimate)：** - 按下 'B' 鍵觸發。清除全畫面子彈並對全螢幕敵方造成重傷，伴隨畫面震動與閃爍。
- **狀態顯示 (HUD)：**
  - 左下角：顯示目前 AIR 武器等級圖示、GND 武器等級、以及大招剩餘次數。
  - 左上方：血量條 (HP)。
  - 右上方：得分 (Score) 與目前關卡數。

## 4. 敵人與關卡設計 (Enemies & Leveling)
- **敵人類型：** - 一般敵機：直線或曲線飛行，發射單發子彈。
  - 地面砲台：固定在背景，旋轉並瞄準玩家。
  - 補給機：擊毀後必掉落 [紅/藍/綠] 武器箱。
- **關卡邏輯：**
  - Level 1-10：採用預設的固定波次清單 (Wave Data)。
  - Level 11+：開啟隨機生成模式，隨關卡數提升敵機血量與射擊頻率。
- **BOSS 系統：** - 每關結尾出現。具備大型血條、多重砲塔判定點。
  - 階段性行為：血量低於 50% 時進入第二階段，改變移動模式與彈幕密度。

## 5. 程式碼架構建議
- 請將遊戲狀態管理 (State) 與渲染邏輯分離。
- 提供一個 `useGameLoop` 自定義 Hook。
- Boss 類別應具備 `phases` 陣列，方便後續擴展行為。
- 寫出完整的渲染函數 `drawPlayer()`, `drawEnemies()`, `drawProjectiles()`, `drawCrosshair()`。

請直接生成一個完整可運行的 React 元件程式碼。
